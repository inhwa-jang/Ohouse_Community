<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>장인화_인터페이스구현_실기시험_파일_test2.html</title>
<script type="text/javascript" src="jquery-3.6.0.js"></script>
<script type="text/javascript">
	$(document).ready(function(){
		// id="btn" 클릭  test2.jsp 게시판글을 json로 출력
		// 결과를 받아서  table태그 뒤부분에 결과값 출력
		$('#btn').click(function(){
//	 		alert("클릭");
			// test7_json.jsp에 가서 json(자바스크립트 배열) 데이터 가져와서 ajax
			// 반복 each() 테이블태그 뒤부분에 추가 append()
			$.ajax({
				url: 'test2.jsp',
				dataType: 'json',
				success : function(rdata){
					// rdata : json(배열변수)
					$.each(rdata,function(index,item){
						$('#table1').append("<tr><td>"+item.num+"</td><td>"+item.subject+"</td><td>"+item.name+"</td><td>"+item.date+"</td><td>"+item.readcount+"</td></tr>");
					});
				}
			});
			
			// 이벤트 한번만 실행하고 종료
			$(this).unbind();
		});
		
	});
</script>
</head>
<body>
<h3>2번)글조회버튼 클릭시 게시판글 가져와서 출력하세요</h3>

<h6>글조회 버튼 클릭시 게시판 글목록 보이게 하세요</h6>
<input type="button" value="글조회" id="btn">
<table id="table1" border="1">
<tr><td>번호</td><td>제목</td><td>작성자</td><td>날짜</td><td>조회수</td></tr>
</table>
</body>
</html>